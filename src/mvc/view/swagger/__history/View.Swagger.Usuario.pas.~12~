{*******************************************************}
{                    API PDV - JSON                     }
{                      Be More Web                      }
{            Início do projeto 15/04/2024               }
{                 www.bemoreweb.com.br                  }
{                     (17)98169-5336                    }
{                        2003/2024                      }
{         Analista desenvolvedor (Eleandro Silva)       }
{*******************************************************}
unit View.Swagger.Usuario;

interface

uses
  Horse.GBSwagger,
  Tabela.Swagger.Usuario;
type
  TSwaggerUsuario = class
   private
   public
     class procedure SwaggerUsuario;
  end;

implementation

{ TSwaggerEmpresa }

class procedure TSwaggerUsuario.SwaggerUsuario;
begin
  Swagger
    .Path('usuario')
      .Tag('usuario')
        .GET('Listar todos', 'Listando todos os usuários')
          .AddResponse(200, 'Lista de usuários encontrada com sucesso!')
          .Schema(TUsuario)
          .IsArray(True)
          .&End
          //.AddParamQuery('email', 'Email')
          //.&End
          //.AddParamQuery('senha', 'senha')
          // .Schema(TUsuario)
          //.&End
          //.AddResponse(201, 'Usuário encontrada com sucesso!').&End
          .AddResponse(400).&End//erro de validação
          .AddResponse(404).&End//id inválido
          .AddResponse(500).&End//erro banco de dados
    .&End
    .POST('Adicionar um novo usuário!')
      .AddParamBody('Dados do usuario')
        .Schema(TUsuario)
      .&End
          .AddResponse(201)
          .Schema(TUsuario)
        .&End
          .AddResponse(400).&End
          .AddResponse(404).&End
          .AddResponse(500).&End
      .&End
    .PUT('Update Usuário')
      .AddParamPath('id', 'id do Usuário')
        .Schema(SWAG_INTEGER)
      .&End
      .AddParamBody('usuario', 'Dados do Usuário')
        .Schema(TUsuario)
      .&End
      .AddResponse(204).&End//sucesso na alteração
      .AddResponse(400).&End//erro de validação
      .AddResponse(404).&End//id inválido
      .AddResponse(500).&End//erro banco
    .&End
    .DELETE('Delete usuário')
      .AddParamPath('id', 'id do usuário')
        .Schema(SWAG_INTEGER)
    .&End
      .AddResponse(204).&End//sucesso na exclusão
      .AddResponse(400).&End//erro de validação
      .AddResponse(404).&End//id inválido
      .AddResponse(500).&End//erro banco
    .&End
    .&End;
end;

end.
