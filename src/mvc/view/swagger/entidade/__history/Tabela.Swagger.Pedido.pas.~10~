{*******************************************************}
{                    API PDV - JSON                     }
{                      Be More Web                      }
{          Início do projeto 25/04/2024 20:00           }
{                 www.bemoreweb.com.br                  }
{                     (17)98169-5336                    }
{                        2003/2024                      }
{         Analista desenvolvedor (Eleandro Silva)       }
{*******************************************************}
unit Tabela.Swagger.Pedido;

interface

uses
  GBSwagger.Model.Attributes,
  System.Generics.Collections;

type
  TPedido = class
    private
      FId              : Integer;
      FIdEmpresa       : Integer;
      FIdPessoa        : Integer;
      FIdPagamento     : Integer;
      FIdUsuario       : Integer;
      FValorProduto    : Currency;
      FValorDesconto   : Currency;
      FValorReceber    : Currency;
      FDataHoraEmissao : TDateTime;
      FStatus          : Integer;

      FPedidoItem      : TObjectList<TPedidoItem>;
      FPedidoPagamento : TObjectList<TPedidoPagamento>;
    public
      [SwagParamQuery('id', true)]
      [SwagProp('PRIMARY KEY (auto_increment)', True)]
      [SwagProp(False, True)]
      property id              : Integer  read FId               write FId;
      [SwagProp('Foreign Key->Tabela (categoriaproduto<-Idempresa=id->Tabela empresa)) Excluír=Cascade; Alterar=Cascade', True)]
      property idempresa       : Integer   read FIdEmpresa       write FIdEmpresa;
      [SwagProp(True)]
      property idpessoa        : Integer   read FIdPessoa        write FIdPessoa;
      [SwagProp(True)]
      property idpagamento     : Integer   read FIdPagamento     write FIdPagamento;
      [SwagProp('Foreign Key->Tabela (usuario<-Idusuario=id->Tabela usuario))', True)]
      property idusuario       : Integer   read FIdUsuario       write FIdUsuario;
      [SwagProp('Soma da tabela pedidoitem- API Calcula 0,01)', True)]
      property valorproduto    : Currency  read FValorProduto    write FValorProduto;
      [SwagProp('preencher caso houver desconto no final- API Calcula 0,01)', True)]
      property valordesconto   : Currency  read FValorProduto    write FValorProduto;
      [SwagProp('Soma valorproduto-valordesconto=valorreceber - API Calcula 0,01)', True)]
      property valorreceber    : Currency  read FValorProduto    write FValorProduto;
      [SwagProp('YYYY-MM-DD hh:mm:ss ', True)]
      property datahoraemissao : TDateTime read FDataHoraEmissao write FDataHoraEmissao;
      [SwagProp('0-Pedido como orçamento;1-Pedido faturado;3-Pedido Cancelado; 4-Pedido Excluído ', True)]
      property status          : Integer   read FStatus          write FStatus;

      //Injeção de dependência
      property pedidoitem      : TObjectList<TPedidoItem>      read FPedidoItem      write FPedidoItem;
      property pedidopagamento : TObjectList<TPedidoPagamento> read FPedidoPagamento write FPedidoPagamento;
  end;

implementation

end.
